# Shippable CI/CD configuration file.
# http://docs.shippable.com/en/latest/config.html#configuration
language:
  python

python:
  - 3.5

env:
  global:
    - secure: P9gH3IYWIj4IiOScmt6yuCWI6kSvTDpe2PCdE9ooin7NskjYgEMkulcxz5dq9Cs5KVI+dJRkK47GB7MFMqL+C00hhkqmq+H8KSfzWa7irGSPk943tBeWCxxSpKdGWXBtJysqklfo0FGeUuKHEm2XWgZkTSZQ8H+TPMTW2hxKBhzFZAU5nihEi4EFjknTxW91G/fCedzqs3c9EQ5PvK30SZt0u0O7SNvZu3d1CBcziHPAJw9XxmR92st/23rm2CHT2ARD87KVLeYBGO/fCsS+UXZS3gFXi9W6RuWsapABupIV1SOQk6qOxZ892bUfNYDEN5Gli9F7Q54qXkxWXD2R7KlrmreaUgt6VCSmaTL2arPPb/aYkypyg3cN90KdM5uxHlVUKj5FoFbugA8Evpq3nlca3qbZY7/gwpGp6+uZYY3dQa+bslMwh9DjsPg7MWlVVryfkIB1e7mcBmZaMIH/uQkslYgCBuY09Dput+sMJ7xxuORswrmOG25ZYQk8aMEsztmQBrbibqax2/YIfmKPc7gz6c0VchHkDavmX1TwekTWvmG/9koxT/Z7cfeiF17jq6u24k5g9amMf9m3d0sSmJHJcSFqhQmTQfc7MFu3G3Qcn3T1SbwxrtIg/xbUyQHXi3/06J8MKS83iCdk6tO5xGOAMJEYFRRohdLkW2krSJw=

build:
  ci:
    - pip install Fabric3

  on_success:
    - fab -f fabric-cde.py $BRANCH deploy

  cache: true

branches:
  only:
    - development

integrations:
  notifications:
    - integrationName: slack-integration
      type: slack
      recipients:
        - "#server-info"
      on_success: always
      on_failure: always

    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_pull_request: never
