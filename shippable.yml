# Shippable CI/CD configuration file.
# http://docs.shippable.com/en/latest/config.html#configuration
language:
  python

python:
  - 3.5

env:
  global:
    - secure: Pp+xc/9p1cPIB7IKg6MCRZlbQB6AiVpNmqLndOwK4+tn0Pyi8qRehgF3BS7JfuNW6HxgcRMs77efD4gpi6jeAX1B9DTxlk5xhFz6YdOXop2cheLxm2Fh8Pi//RvOWr0WRA5JVGDQefh2fEyTq55T9Y0flR+FXPzOVI72LnrkYg2UlmvrGPURNvuKnwCrPpL75Mklxx/RVbi7tsgbUcxvEPyU/kLfLQr0/KS5KubJMQqIFhqFeNPL2j6b3C8YtmgNZeK6Q0Pzp0lt6yrbDvzVlShTKegiQQfM+alRCMjeyjrvVxGuERlMncoo7KQDldbBE6Bc7SULJCYjXo9M9lBe2Vb9ksn2jH/F8Eko3jZuSUJ8iI14AyJyHHw2UvpHIIp1xWQtOgUzefdlG3amkHWEahdbLWiXk95zJBlkrMrKRFlyo+cwpyQFPymQReYWdBdg8jIqFQ7aoQ9MQPdBwIQLloRihTVAdAPWLUJ+dqE3wsMkh43c6GwkM4rYR7k5tGpvREElcF27stCAHOzgV5uDqiwCvB4qT9UKUr0j4JoGusvISDculbWoT57nCQs2BSyZMggV2X3mYmvZ8QQB7PagGMpzwUlXsIsRFFrBeJGR54kJZlI3MGh4Wx9trDvlMFzpd7XASP31sZoOtBrL/uGipqndQr3GgaaD4+2lc1Xfz7Y=

build:
  ci:
    - pip install Fabric3

  on_success:
    - fab -f fabric-cde.py $BRANCH deploy

  cache: true

branches:
  only:
    - production

integrations:
  notifications:
    - integrationName: slack-integration
      type: slack
      recipients:
        - "#server-info"
      on_success: always
      on_failure: always

    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_pull_request: never
