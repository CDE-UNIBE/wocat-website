{% load i18n %}
{% load static %}


<div class="row">
  <!-- map legend -->
  <div class="map-legend col-md-3">
    <div id="map-legend-collapse" class="map-legend-content collapse">
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active">
          <a href="#regions" aria-controls="regions" role="tab" data-toggle="tab" data-url="{% url 'regionpage-list' %}">{% trans "Initiatives" %}</a>
        </li>
        <li role="presentation">
          <a href="#countries" aria-controls="countries" role="tab" data-toggle="tab" data-url="{% url 'countrypage-list' %}">{% trans "Countries" %}</a>
        </li>
        <li role="presentation">
          <a href="#projects" aria-controls="projects" role="tab" data-toggle="tab" data-url="{% url 'projectpage-list' %}">{% trans "Projects" %}</a>
        </li>
      </ul>
      <div class="left-inner-addon">
        <i class="glyphicon glyphicon-filter"></i>
        <input type="text" class="form-control map-filter" placeholder="{% trans "filter" %}">
      </div>
      <div id="panel">
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane active" id="regions"></div>
          <div role="tabpanel" class="tab-pane" id="countries"></div>
          <div role="tabpanel" class="tab-pane" id="projects"></div>
        </div>
      </div>
    </div>
    <div class="map-legend-collapse-button">
      <i class="fa fa-caret-right" aria-hidden="true"></i>
    </div>
  </div>

  <!-- map content -->
  <div class="col-md-12">
    <div id="map" style="width: 100%; height: 400px;"></div>
  </div>
</div>

<script src="{% static 'js/mapPlugin.js' %}" defer="defer"></script>
<script defer="defer">
  window.jsReady = function() {
      $('#map').setMap();
  };
</script>

